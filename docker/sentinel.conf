# Redis Sentinel Configuration
# This file is used by all 3 sentinel instances in docker-compose.sentinel.yml
# The announce-port is set dynamically via SENTINEL_ANNOUNCE_PORT environment variable

port 26379
dir /tmp

# Monitor master with quorum of 2 (requires 2 sentinels to agree on failure)
sentinel monitor mymaster redis-master 6379 2

# Consider master down after 5 seconds of no response
sentinel down-after-milliseconds mymaster 5000

# Only sync 1 replica at a time during failover
sentinel parallel-syncs mymaster 1

# Failover timeout (10 seconds)
sentinel failover-timeout mymaster 10000

# Announce external address for host machine access
# This allows connections from outside the Docker network
sentinel announce-ip 127.0.0.1
sentinel announce-port 26379

