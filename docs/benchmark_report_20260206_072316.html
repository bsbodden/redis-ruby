<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Redis-Ruby Comprehensive Benchmark Report</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: #333;
      background: #f5f7fa;
      padding: 20px;
    }
    .container { max-width: 1400px; margin: 0 auto; }
    h1 { color: #1a1a2e; margin-bottom: 10px; }
    h2 { color: #16213e; margin: 30px 0 15px; }
    .subtitle { color: #666; margin-bottom: 30px; }
    .card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      padding: 24px;
      margin-bottom: 24px;
    }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
    .stat-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 12px;
      padding: 24px;
      text-align: center;
    }
    .stat-value { font-size: 2.5em; font-weight: bold; }
    .stat-label { opacity: 0.9; font-size: 0.9em; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 12px 16px; text-align: left; border-bottom: 1px solid #eee; }
    th { background: #f8f9fa; font-weight: 600; }
    tr:hover { background: #f8f9fa; }
    .speedup { font-weight: bold; }
    .faster { color: #28a745; }
    .slower { color: #dc3545; }
    .chart-container { height: 400px; margin: 20px 0; }
    .metadata { color: #666; font-size: 0.9em; }
    .category-header { background: #e9ecef; font-weight: 600; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Redis-Ruby vs Redis-rb Benchmark Report</h1>
    <p class="subtitle">Comprehensive performance comparison</p>

    <div class="card metadata">
      <strong>Generated:</strong> 2026-02-06T06:02:14-08:00 |
      <strong>Ruby:</strong> 3.4.8 |
      <strong>YJIT:</strong> true |
      <strong>Platform:</strong> aarch64-linux
    </div>

    <div class="grid">
      <div class="stat-card">
        <div class="stat-value">1.05x</div>
        <div class="stat-label">Average Speedup</div>
      </div>
      <div class="stat-card" style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);">
        <div class="stat-value">27</div>
        <div class="stat-label">Faster Benchmarks</div>
      </div>
      <div class="stat-card" style="background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);">
        <div class="stat-value">5</div>
        <div class="stat-label">Slower Benchmarks</div>
      </div>
      <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
        <div class="stat-value">37</div>
        <div class="stat-label">Total Benchmarks</div>
      </div>
    </div>

    <div class="card">
      <h2>Throughput Results</h2>
      <div class="chart-container">
        <canvas id="speedupChart"></canvas>
      </div>
    </div>

    <div class="card">
      <h2>Detailed Results</h2>
      <table>
        <thead>
          <tr>
            <th>Benchmark</th>
            <th>Category</th>
            <th>redis-rb (i/s)</th>
            <th>redis-ruby (i/s)</th>
            <th>Speedup</th>
          </tr>
        </thead>
        <tbody>
          <tr>
          <td><strong>PING</strong></td>
          <td>Basic</td>
          <td>19497.1</td>
          <td>19335.8</td>
          <td class="speedup slower">0.99x</td>
        </tr>
<tr>
          <td><strong>GET (small)</strong></td>
          <td>Basic</td>
          <td>19394.4</td>
          <td>19963.6</td>
          <td class="speedup faster">1.03x</td>
        </tr>
<tr>
          <td><strong>SET (small)</strong></td>
          <td>Basic</td>
          <td>19151.7</td>
          <td>19713.9</td>
          <td class="speedup faster">1.03x</td>
        </tr>
<tr>
          <td><strong>INCR</strong></td>
          <td>Basic</td>
          <td>19198.1</td>
          <td>21186.6</td>
          <td class="speedup faster">1.10x</td>
        </tr>
<tr>
          <td><strong>HGET</strong></td>
          <td>Hash</td>
          <td>19383.4</td>
          <td>19758.3</td>
          <td class="speedup faster">1.02x</td>
        </tr>
<tr>
          <td><strong>LPUSH/LPOP</strong></td>
          <td>List</td>
          <td>9604.0</td>
          <td>9842.4</td>
          <td class="speedup faster">1.02x</td>
        </tr>
<tr>
          <td><strong>SADD/SISMEMBER</strong></td>
          <td>Set</td>
          <td>9703.7</td>
          <td>9763.0</td>
          <td class="speedup faster">1.01x</td>
        </tr>
<tr>
          <td><strong>ZADD/ZSCORE</strong></td>
          <td>SortedSet</td>
          <td>9202.0</td>
          <td>9419.3</td>
          <td class="speedup faster">1.02x</td>
        </tr>
<tr>
          <td><strong>GET 100B</strong></td>
          <td>DataSize</td>
          <td>20082.0</td>
          <td>21875.5</td>
          <td class="speedup faster">1.09x</td>
        </tr>
<tr>
          <td><strong>SET 100B</strong></td>
          <td>DataSize</td>
          <td>19474.9</td>
          <td>19732.6</td>
          <td class="speedup faster">1.01x</td>
        </tr>
<tr>
          <td><strong>GET 1024B</strong></td>
          <td>DataSize</td>
          <td>19263.6</td>
          <td>19367.9</td>
          <td class="speedup faster">1.00x</td>
        </tr>
<tr>
          <td><strong>SET 1024B</strong></td>
          <td>DataSize</td>
          <td>19316.5</td>
          <td>19313.7</td>
          <td class="speedup faster">1.00x</td>
        </tr>
<tr>
          <td><strong>GET 10240B</strong></td>
          <td>DataSize</td>
          <td>16977.1</td>
          <td>16991.0</td>
          <td class="speedup faster">1.00x</td>
        </tr>
<tr>
          <td><strong>SET 10240B</strong></td>
          <td>DataSize</td>
          <td>17969.1</td>
          <td>17103.7</td>
          <td class="speedup slower">0.95x</td>
        </tr>
<tr>
          <td><strong>GET 102400B</strong></td>
          <td>DataSize</td>
          <td>9661.3</td>
          <td>9569.9</td>
          <td class="speedup slower">0.99x</td>
        </tr>
<tr>
          <td><strong>SET 102400B</strong></td>
          <td>DataSize</td>
          <td>13394.8</td>
          <td>12841.9</td>
          <td class="speedup slower">0.96x</td>
        </tr>
<tr>
          <td><strong>Pipeline 1 GETs</strong></td>
          <td>Pipeline</td>
          <td>18959.5</td>
          <td>19989.9</td>
          <td class="speedup faster">1.05x</td>
        </tr>
<tr>
          <td><strong>Pipeline 1 SETs</strong></td>
          <td>Pipeline</td>
          <td>18009.7</td>
          <td>18886.4</td>
          <td class="speedup faster">1.05x</td>
        </tr>
<tr>
          <td><strong>Pipeline 10 GETs</strong></td>
          <td>Pipeline</td>
          <td>14777.8</td>
          <td>16108.2</td>
          <td class="speedup faster">1.09x</td>
        </tr>
<tr>
          <td><strong>Pipeline 10 SETs</strong></td>
          <td>Pipeline</td>
          <td>13526.3</td>
          <td>14848.4</td>
          <td class="speedup faster">1.10x</td>
        </tr>
<tr>
          <td><strong>Pipeline 50 GETs</strong></td>
          <td>Pipeline</td>
          <td>8582.4</td>
          <td>9899.7</td>
          <td class="speedup faster">1.15x</td>
        </tr>
<tr>
          <td><strong>Pipeline 50 SETs</strong></td>
          <td>Pipeline</td>
          <td>7364.7</td>
          <td>8371.6</td>
          <td class="speedup faster">1.14x</td>
        </tr>
<tr>
          <td><strong>Pipeline 100 GETs</strong></td>
          <td>Pipeline</td>
          <td>5625.8</td>
          <td>6890.7</td>
          <td class="speedup faster">1.22x</td>
        </tr>
<tr>
          <td><strong>Pipeline 100 SETs</strong></td>
          <td>Pipeline</td>
          <td>4764.8</td>
          <td>5573.7</td>
          <td class="speedup faster">1.17x</td>
        </tr>
<tr>
          <td><strong>Pipeline 500 GETs</strong></td>
          <td>Pipeline</td>
          <td>1625.9</td>
          <td>2055.6</td>
          <td class="speedup faster">1.26x</td>
        </tr>
<tr>
          <td><strong>Pipeline 500 SETs</strong></td>
          <td>Pipeline</td>
          <td>1285.8</td>
          <td>1549.7</td>
          <td class="speedup faster">1.20x</td>
        </tr>
<tr>
          <td><strong>MULTI/EXEC (3 cmds)</strong></td>
          <td>Transaction</td>
          <td>3851.2</td>
          <td>3782.6</td>
          <td class="speedup slower">0.98x</td>
        </tr>
<tr>
          <td><strong>MULTI/EXEC (10 cmds)</strong></td>
          <td>Transaction</td>
          <td>1610.1</td>
          <td>1629.9</td>
          <td class="speedup faster">1.01x</td>
        </tr>
<tr>
          <td><strong>WATCH + MULTI/EXEC</strong></td>
          <td>Transaction</td>
          <td>3798.5</td>
          <td>3832.0</td>
          <td class="speedup faster">1.01x</td>
        </tr>
<tr>
          <td><strong>Read-Heavy (10:1)</strong></td>
          <td>Workload</td>
          <td>1767.0</td>
          <td>1783.7</td>
          <td class="speedup faster">1.01x</td>
        </tr>
<tr>
          <td><strong>Write-Heavy (1:10)</strong></td>
          <td>Workload</td>
          <td>1770.4</td>
          <td>1791.9</td>
          <td class="speedup faster">1.01x</td>
        </tr>
<tr>
          <td><strong>Balanced (1:1)</strong></td>
          <td>Workload</td>
          <td>1929.2</td>
          <td>1954.2</td>
          <td class="speedup faster">1.01x</td>
        </tr>
<tr>
          <td><strong>Mixed Commands</strong></td>
          <td>Workload</td>
          <td>2722.4</td>
          <td>2790.6</td>
          <td class="speedup faster">1.02x</td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="card">
  <h2>Latency Results (microseconds)</h2>
  <table>
    <thead>
      <tr>
        <th>Benchmark</th>
        <th>redis-rb P50</th>
        <th>redis-rb P99</th>
        <th>redis-ruby P50</th>
        <th>redis-ruby P99</th>
        <th>P99 Improvement</th>
      </tr>
    </thead>
    <tbody>
      <tr>
          <td><strong>GET Latency</strong></td>
          <td>49.3</td>
          <td>70.8</td>
          <td>49.5</td>
          <td>76.8</td>
          <td class="speedup slower">-8.5%</td>
        </tr>
<tr>
          <td><strong>SET Latency</strong></td>
          <td>49.4</td>
          <td>73.1</td>
          <td>49.5</td>
          <td>87.7</td>
          <td class="speedup slower">-19.9%</td>
        </tr>
<tr>
          <td><strong>Pipeline 10 Latency</strong></td>
          <td>65.5</td>
          <td>175.3</td>
          <td>60.4</td>
          <td>1753.4</td>
          <td class="speedup slower">-900.0%</td>
        </tr>
<tr>
          <td><strong>Pipeline 100 Latency</strong></td>
          <td>162.5</td>
          <td>834.5</td>
          <td>126.2</td>
          <td>375.0</td>
          <td class="speedup faster">+55.1%</td>
        </tr>
    </tbody>
  </table>
</div>

  </div>

  <script>
    const ctx = document.getElementById('speedupChart').getContext('2d');
    const benchmarks = {"PING":{"category":"Basic","throughput":{"redis_rb":{"ips":19497.1},"redis_ruby":{"ips":19335.8},"speedup":0.992}},"GET (small)":{"category":"Basic","throughput":{"redis_rb":{"ips":19394.4},"redis_ruby":{"ips":19963.6},"speedup":1.029}},"SET (small)":{"category":"Basic","throughput":{"redis_rb":{"ips":19151.7},"redis_ruby":{"ips":19713.9},"speedup":1.029}},"INCR":{"category":"Basic","throughput":{"redis_rb":{"ips":19198.1},"redis_ruby":{"ips":21186.6},"speedup":1.104}},"HGET":{"category":"Hash","throughput":{"redis_rb":{"ips":19383.4},"redis_ruby":{"ips":19758.3},"speedup":1.019}},"LPUSH/LPOP":{"category":"List","throughput":{"redis_rb":{"ips":9604.0},"redis_ruby":{"ips":9842.4},"speedup":1.025}},"SADD/SISMEMBER":{"category":"Set","throughput":{"redis_rb":{"ips":9703.7},"redis_ruby":{"ips":9763.0},"speedup":1.006}},"ZADD/ZSCORE":{"category":"SortedSet","throughput":{"redis_rb":{"ips":9202.0},"redis_ruby":{"ips":9419.3},"speedup":1.024}},"GET Latency":{"category":"Basic","latency":{"redis_rb":{"count":10000,"min":25.0,"max":580.33,"mean":50.42,"p50":49.33,"p95":57.83,"p99":70.83,"p999":190.33},"redis_ruby":{"count":10000,"min":21.96,"max":1837.88,"mean":51.12,"p50":49.46,"p95":60.29,"p99":76.83,"p999":238.75},"improvement":{"p50":-0.3,"p99":-8.5}}},"SET Latency":{"category":"Basic","latency":{"redis_rb":{"count":10000,"min":12.63,"max":562.08,"mean":50.67,"p50":49.42,"p95":59.63,"p99":73.13,"p999":159.13},"redis_ruby":{"count":10000,"min":18.71,"max":1138.58,"mean":51.81,"p50":49.54,"p95":61.96,"p99":87.67,"p999":547.42},"improvement":{"p50":-0.2,"p99":-19.9}}},"Pipeline 10 Latency":{"category":"Pipeline","latency":{"redis_rb":{"count":1000,"min":47.58,"max":609.29,"mean":69.68,"p50":65.46,"p95":81.42,"p99":175.33,"p999":609.29},"redis_ruby":{"count":1000,"min":44.54,"max":7988.0,"mean":109.44,"p50":60.38,"p95":123.71,"p99":1753.38,"p999":7988.0},"improvement":{"p50":7.8,"p99":-900.0}}},"Pipeline 100 Latency":{"category":"Pipeline","latency":{"redis_rb":{"count":100,"min":130.75,"max":914.75,"mean":237.31,"p50":162.54,"p95":560.21,"p99":834.54,"p999":914.75},"redis_ruby":{"count":100,"min":119.29,"max":375.88,"mean":143.46,"p50":126.21,"p95":229.04,"p99":375.0,"p999":375.88},"improvement":{"p50":22.4,"p99":55.1}}},"GET 100B":{"category":"DataSize","throughput":{"redis_rb":{"ips":20082.0},"redis_ruby":{"ips":21875.5},"speedup":1.089}},"SET 100B":{"category":"DataSize","throughput":{"redis_rb":{"ips":19474.9},"redis_ruby":{"ips":19732.6},"speedup":1.013}},"GET 1024B":{"category":"DataSize","throughput":{"redis_rb":{"ips":19263.6},"redis_ruby":{"ips":19367.9},"speedup":1.005}},"SET 1024B":{"category":"DataSize","throughput":{"redis_rb":{"ips":19316.5},"redis_ruby":{"ips":19313.7},"speedup":1.0}},"GET 10240B":{"category":"DataSize","throughput":{"redis_rb":{"ips":16977.1},"redis_ruby":{"ips":16991.0},"speedup":1.001}},"SET 10240B":{"category":"DataSize","throughput":{"redis_rb":{"ips":17969.1},"redis_ruby":{"ips":17103.7},"speedup":0.952}},"GET 102400B":{"category":"DataSize","throughput":{"redis_rb":{"ips":9661.3},"redis_ruby":{"ips":9569.9},"speedup":0.991}},"SET 102400B":{"category":"DataSize","throughput":{"redis_rb":{"ips":13394.8},"redis_ruby":{"ips":12841.9},"speedup":0.959}},"Pipeline 1 GETs":{"category":"Pipeline","throughput":{"redis_rb":{"ips":18959.5},"redis_ruby":{"ips":19989.9},"speedup":1.054}},"Pipeline 1 SETs":{"category":"Pipeline","throughput":{"redis_rb":{"ips":18009.7},"redis_ruby":{"ips":18886.4},"speedup":1.049}},"Pipeline 10 GETs":{"category":"Pipeline","throughput":{"redis_rb":{"ips":14777.8},"redis_ruby":{"ips":16108.2},"speedup":1.09}},"Pipeline 10 SETs":{"category":"Pipeline","throughput":{"redis_rb":{"ips":13526.3},"redis_ruby":{"ips":14848.4},"speedup":1.098}},"Pipeline 50 GETs":{"category":"Pipeline","throughput":{"redis_rb":{"ips":8582.4},"redis_ruby":{"ips":9899.7},"speedup":1.153}},"Pipeline 50 SETs":{"category":"Pipeline","throughput":{"redis_rb":{"ips":7364.7},"redis_ruby":{"ips":8371.6},"speedup":1.137}},"Pipeline 100 GETs":{"category":"Pipeline","throughput":{"redis_rb":{"ips":5625.8},"redis_ruby":{"ips":6890.7},"speedup":1.225}},"Pipeline 100 SETs":{"category":"Pipeline","throughput":{"redis_rb":{"ips":4764.8},"redis_ruby":{"ips":5573.7},"speedup":1.17}},"Pipeline 500 GETs":{"category":"Pipeline","throughput":{"redis_rb":{"ips":1625.9},"redis_ruby":{"ips":2055.6},"speedup":1.264}},"Pipeline 500 SETs":{"category":"Pipeline","throughput":{"redis_rb":{"ips":1285.8},"redis_ruby":{"ips":1549.7},"speedup":1.205}},"MULTI/EXEC (3 cmds)":{"category":"Transaction","throughput":{"redis_rb":{"ips":3851.2},"redis_ruby":{"ips":3782.6},"speedup":0.982}},"MULTI/EXEC (10 cmds)":{"category":"Transaction","throughput":{"redis_rb":{"ips":1610.1},"redis_ruby":{"ips":1629.9},"speedup":1.012}},"WATCH + MULTI/EXEC":{"category":"Transaction","throughput":{"redis_rb":{"ips":3798.5},"redis_ruby":{"ips":3832.0},"speedup":1.009}},"Read-Heavy (10:1)":{"category":"Workload","throughput":{"redis_rb":{"ips":1767.0},"redis_ruby":{"ips":1783.7},"speedup":1.009}},"Write-Heavy (1:10)":{"category":"Workload","throughput":{"redis_rb":{"ips":1770.4},"redis_ruby":{"ips":1791.9},"speedup":1.012}},"Balanced (1:1)":{"category":"Workload","throughput":{"redis_rb":{"ips":1929.2},"redis_ruby":{"ips":1954.2},"speedup":1.013}},"Mixed Commands":{"category":"Workload","throughput":{"redis_rb":{"ips":2722.4},"redis_ruby":{"ips":2790.6},"speedup":1.025}}};
    const labels = Object.keys(benchmarks).filter(k => benchmarks[k].throughput);
    const speedups = labels.map(k => benchmarks[k].throughput.speedup);

    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: labels,
        datasets: [{
          label: 'Speedup vs redis-rb',
          data: speedups,
          backgroundColor: speedups.map(s => s >= 1 ? 'rgba(40, 167, 69, 0.7)' : 'rgba(220, 53, 69, 0.7)'),
          borderColor: speedups.map(s => s >= 1 ? 'rgba(40, 167, 69, 1)' : 'rgba(220, 53, 69, 1)'),
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          title: { display: true, text: 'Speedup Factor (>1 = redis-ruby faster)' },
          legend: { display: false }
        },
        scales: {
          y: { beginAtZero: true, title: { display: true, text: 'Speedup (x)' } },
          x: { ticks: { maxRotation: 45, minRotation: 45 } }
        }
      }
    });
  </script>
</body>
</html>
